modelVersion: 4.0.0
id: io.github.jam01:json-schema_3:0.1.0-SNAPSHOT
packaging: jar

properties:
  maven.compiler.source: '21'
  maven.compiler.target: '21'
  maven.compiler.release: '21'
  project.build.sourceEncoding: UTF-8

dependencies:
  - org.scala-lang:scala3-library_3:3.3.3
  - com.lihaoyi:upickle-core_3:3.3.1
  - com.github.plokhotnyuk.jsoniter-scala:jsoniter-scala-core_3:2.30.1
  - com.networknt:json-schema-validator:1.4.2
  # test
  - org.junit.jupiter:junit-jupiter:test:5.10.2
  - org.junit.jupiter:junit-jupiter-params:test:5.10.2
  - com.lihaoyi:ujson_3:test:3.3.1
  - org.skyscreamer:jsonassert:test:1.5.1

build: # use when ready https://github.com/apache/maven/pull/1061
  resources:
    - directory: '${project.basedir}/src/main/resources'
    - directory: '${project.basedir}/../shared/src/main/resources'
  testResources:
    - directory: '${project.basedir}/src/test/resources'
    - directory: '${project.basedir}/../shared/src/test/resources'

  plugins:
    - id: org.codehaus.mojo:build-helper-maven-plugin:3.6.0
      executions:
        - id: shared-sources
          goals: [add-source]
          configuration:
            sources: ["${project.basedir}/../shared/src/main/scala"]
        - id: shared-test-sources
          goals: [add-test-source]
          configuration:
            sources: ["${project.basedir}/../shared/src/test/scala"]
    - id: org.apache.maven.plugins:maven-compiler-plugin:3.11.0
      configuration:
        skipMain: 'true'
        skip: 'true'
    - id: net.alchim31.maven:scala-maven-plugin:4.9.1
      configuration:
        args: ['-deprecation', '-feature']
      executions:
        - goals: [compile, testCompile]
    - id: org.apache.maven.plugins:maven-surefire-plugin:3.2.2
